{
  "data_asset_type": null,
  "expectation_suite_name": "market_analytics_validation",
  "expectations": [
    {
      "expectation_type": "expect_table_row_count_to_be_between",
      "kwargs": {
        "max_value": 10000,
        "min_value": 10
      },
      "meta": {
        "description": "Market analytics datasets should have reasonable row counts"
      }
    },
    {
      "expectation_type": "expect_table_columns_to_match_ordered_list",
      "kwargs": {
        "column_list": [
          "msa_id",
          "market_name",
          "population",
          "households",
          "vacancy_rate",
          "permit_per_1k",
          "tech_cagr",
          "walk_15_ct",
          "trail_mi_pc",
          "supply_score",
          "jobs_score",
          "urban_score",
          "outdoor_score",
          "composite_score",
          "period_month",
          "refreshed_at",
          "run_id"
        ]
      },
      "meta": {
        "description": "Required columns for market analytics data"
      }
    },
    {
      "expectation_type": "expect_column_to_exist",
      "kwargs": {
        "column": "msa_id"
      },
      "meta": {
        "description": "MSA ID column must exist"
      }
    },
    {
      "expectation_type": "expect_column_to_exist",
      "kwargs": {
        "column": "composite_score"
      },
      "meta": {
        "description": "Composite score column must exist"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "msa_id"
      },
      "meta": {
        "description": "MSA IDs cannot be null"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "composite_score"
      },
      "meta": {
        "description": "Composite scores cannot be null"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_of_type",
      "kwargs": {
        "column": "msa_id",
        "type_": "STRING"
      },
      "meta": {
        "description": "MSA ID must be string"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_of_type",
      "kwargs": {
        "column": "composite_score",
        "type_": "FLOAT"
      },
      "meta": {
        "description": "Composite score must be numeric"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "composite_score",
        "max_value": 10,
        "min_value": 0
      },
      "meta": {
        "description": "Composite scores must be between 0 and 10"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "population",
        "max_value": 50000000,
        "min_value": 1000
      },
      "meta": {
        "description": "Population should be between 1,000 and 50 million"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "vacancy_rate",
        "max_value": 50,
        "min_value": 0
      },
      "meta": {
        "description": "Vacancy rate should be between 0% and 50%"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "permit_per_1k",
        "max_value": 100,
        "min_value": 0
      },
      "meta": {
        "description": "Permits per 1k population should be reasonable"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "period_month"
      },
      "meta": {
        "description": "Period month must be specified"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_of_type",
      "kwargs": {
        "column": "period_month",
        "type_": "TIMESTAMP"
      },
      "meta": {
        "description": "Period month must be timestamp"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "period_month",
        "max_value": "2030-12-31",
        "min_value": "2010-01-01"
      },
      "meta": {
        "description": "Period month should be between 2010 and 2030"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "refreshed_at"
      },
      "meta": {
        "description": "Refresh timestamp must be present"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_of_type",
      "kwargs": {
        "column": "refreshed_at",
        "type_": "TIMESTAMP"
      },
      "meta": {
        "description": "Refresh timestamp must be timestamp type"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "run_id"
      },
      "meta": {
        "description": "Run ID must be specified"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_of_type",
      "kwargs": {
        "column": "run_id",
        "type_": "INTEGER"
      },
      "meta": {
        "description": "Run ID must be integer"
      }
    },
    {
      "expectation_type": "expect_column_proportion_of_unique_values_to_be_between",
      "kwargs": {
        "column": "msa_id",
        "max_value": 1.0,
        "min_value": 0.95
      },
      "meta": {
        "description": "MSA IDs should be mostly unique (95-100%)"
      }
    }
  ],
  "ge_cloud_id": null,
  "meta": {
    "created_by": "HousingModel ETL",
    "created_from_yaml": true,
    "dataset_type": "market_analytics",
    "great_expectations_version": "0.18.22",
    "validation_level": "strict"
  }
}
